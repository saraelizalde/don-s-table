{% extends 'base.html' %}

{% block hero_content %}{% endblock %}

{% block content %}

{% if messages %}
{% for message in messages %}
<div class="messages-container">
    {% for message in messages %}
    <div class="message {{ message.tags }}">{{ message }}</div>
    {% endfor %}
</div>
{% endfor %}
{% endif %}

<section class="white-section reservation-dashboard">
    <h1>Menu Management</h1>

    <p><a href="{% url 'add_menu_item' %}" class="btn"
            style="background-color: var(--medium-green); color: white; padding:0.5rem 1rem; border-radius:4px; text-decoration:none;">Add
            New Menu Item</a></p>

    {% if items %}
    <div class="table-responsive">
        <table class="reservation-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Price (â‚¬)</th>
                    <th>Category</th>
                    <th>Available</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                <tr>
                    <td>{{ item.name }}</td>
                    <td>{{ item.description }}</td>
                    <td>{{ item.price }}</td>
                    <td>{{ item.get_category_display }}</td>
                    <td>{{ item.available|yesno:"Yes,No" }}</td>
                    <td>
                        <form action="{% url 'edit_menu_item' item.id %}" method="get" class="menu-form">
                            <button type="submit" value="confirmed" class="menu-btn">Edit</button>
                        </form>
                        <form action="{% url 'delete_menu_item' item.id %}" method="post" class="menu-form">
                            {% csrf_token %}
                            <button type="submit" value="cancelled" class="menu-btn"
                                onclick="return confirm('Are you sure you want to delete this menu item?');">Delete</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <p>No menu items found.</p>
    {% endif %}
</section>
{% endblock %}